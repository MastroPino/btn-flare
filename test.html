<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Huly.io Button Recreation</title>
        <link rel="stylesheet" href="styles.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Poppins:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <style>
            /* Reset and base styles */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "DM Sans", sans-serif;
                /* background: radial-gradient(circle at center, #1a1a2e 0%, #0f0f23 100%); */
                background-image: url("https://globaluserfiles.com/media/249931_91ed10b7f419a7bb8190071816d7886400e5faaf.png/v1/x_0,y_0,w_1780,h_1953,dpr_2/bg-flazio-home-v3.webp");
                color: white;
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }

            .container {
                text-align: center;
            }

            h1 {
                margin-bottom: 2rem;
                font-size: 1.5rem;
                color: #ffffff;
                font-weight: 300;
            }

            /* Huly button styles */
            .huly-button {
                position: relative;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                padding: 16px 32px;
                font-size: 16px;
                font-weight: 700;
                letter-spacing: -0.015em;

                color: #f2f2f2;
                background: rgba(209, 209, 209, 0.3);
                border: 1px solid rgba(255, 255, 255, 0.6);
                border-radius: 50px;
                cursor: pointer;
                overflow: hidden;
                transition: all 0.2s ease;
                outline: none;
                font-family: inherit;
                isolation: isolate;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                min-width: 200px;
                height: 56px;
                backdrop-filter: blur(50px);
            }

            /* Glow effect for button edges */
            .huly-button::after {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                border-radius: 50px;
                background: transparent;
                box-shadow: 0 0 0 0 rgba(0, 113, 241, 0);
                transition: box-shadow 0.2s ease;
                z-index: -2;
            }

            .huly-button:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            }

            /* Glow states for button edges */
            .huly-button.glow-left::after {
                box-shadow: -15px 0 30px rgba(0, 113, 241, 0.4),
                    0 0 20px rgba(0, 113, 241, 0.2);
            }

            .huly-button.glow-right::after {
                box-shadow: 15px 0 30px rgba(0, 113, 241, 0.4),
                    0 0 20px rgba(0, 113, 241, 0.2);
            }

            .button-text {
                position: relative;
                z-index: 2;
                letter-spacing: -0.015em;
            }

            /* Arrow icon styles */
            .arrow-icon {
                height: 9px;
                width: 17px;
                color: #f2f2f2;
                margin-left: 4px;
            }

            /* Flare effect - matching huly.io structure exactly */
            .flare {
                position: absolute;
                z-index: -10;
                display: flex;
                width: 204px;
                align-items: center;
                justify-content: center;
                transition: none;
                pointer-events: none;
            }

            .flare-inner {
                position: absolute;
                top: 50%;
                height: 121px;
                width: 121px;
                transform: translateY(-50%);
                background: radial-gradient(
                    50% 50% at 50% 50%,
                    #e6f3ff 3.5%,
                    #80c7ff 26.5%,
                    #b3dbff 37.5%,
                    rgba(0, 113, 241, 0.5) 49%,
                    rgba(0, 86, 184, 0) 92.5%
                );
            }

            .flare-blur {
                position: absolute;
                top: 50%;
                height: 103px;
                width: 204px;
                transform: translateY(-50%);
                background: radial-gradient(
                    43.3% 44.23% at 50% 49.51%,
                    #f0f8ff 29%,
                    #d6edff 48.5%,
                    #cce7ff 60.71%,
                    rgba(180, 220, 255, 0) 100%
                );
                filter: blur(5px);
            }

            /* Additional glow effect for the button */
            .huly-button::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.3) 0%,
                    transparent 50%,
                    rgba(255, 255, 255, 0.1) 100%
                );
                border-radius: 50px;
                z-index: 1;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .huly-button:hover::before {
                opacity: 1;
            }

            /* Border light blur effects - matching huly.io exactly */
            .border-button-light-blur {
                position: relative;
                border-radius: 9999px;
                border-width: 3px;
                border-color: transparent;
                pointer-events: none;
                will-change: transform;
                transition: opacity 0.2s ease;
            }

            .border-button-light-blur::before,
            .border-button-light-blur::after {
                content: "";
                position: absolute;
                box-sizing: content-box;
                height: 100%;
                width: 100%;
                border-radius: 9999px;
                border-color: transparent;
            }

            .border-button-light-blur::after {
                left: -3px;
                top: -3px;
                z-index: 20;
                border-width: 3px;
                filter: blur(15px);
                background: linear-gradient(transparent, transparent)
                        padding-box,
                    linear-gradient(
                            91.88deg,
                            rgba(0, 113, 241, 0.2) 46.45%,
                            #0056b8 98.59%
                        )
                        border-box;
            }

            .border-button-light-blur::before {
                left: -0.125rem;
                top: -0.125rem;
                z-index: 10;
                border-width: 2px;
                filter: blur(2px);
                background: linear-gradient(transparent, transparent)
                        padding-box,
                    linear-gradient(
                            97.68deg,
                            rgba(128, 199, 255, 0) 38.1%,
                            rgba(128, 199, 255, 0.2) 82.47%,
                            #0071f1 93.3%
                        )
                        border-box;
            }

            .border-button-light {
                background: radial-gradient(
                    circle at center,
                    rgba(255, 255, 255, 0.3) 0%,
                    rgba(255, 255, 255, 0.1) 40%,
                    transparent 70%
                );
                border-radius: inherit;
            }

            /* Utility classes for Tailwind-like positioning */
            .relative {
                position: relative;
            }

            .absolute {
                position: absolute;
            }

            .inline-flex {
                display: inline-flex;
            }

            .items-center {
                align-items: center;
            }

            .z-10 {
                z-index: 10;
            }

            .left-1\/2 {
                left: 50%;
            }

            .top-1\/2 {
                top: 50%;
            }

            .-translate-x-1\/2 {
                transform: translateX(-50%);
            }

            .-translate-y-1\/2 {
                transform: translateY(-50%);
            }

            .rounded-full {
                border-radius: 9999px;
            }

            .will-change-transform {
                will-change: transform;
            }

            .scale-x-\[-1\] {
                transform: scaleX(-1);
            }

            .transform {
                transform: translate(
                        var(--tw-translate-x),
                        var(--tw-translate-y)
                    )
                    rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
                    skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
                    scaleY(var(--tw-scale-y));
            }

            /* Combined transforms for the second blur element */
            .border-button-light-blur:nth-child(2) {
                transform: translateX(-50%) translateY(-50%) scaleX(-1);
            }

            .border-button-light-blur:nth-child(1) {
                transform: translateX(-50%) translateY(-50%);
            }

            /* Height and width calc utilities */
            .h-\[calc\(100\%\+9px\)\] {
                height: calc(100% + 9px);
            }

            .w-\[calc\(100\%\+9px\)\] {
                width: calc(100% + 9px);
            }

            .h-full {
                height: 100%;
            }

            .w-full {
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Huly.io Button Recreation</h1>
            <div class="relative inline-flex items-center z-10">
                <!-- Border light blur elements -->
                <div
                    class="border-button-light-blur absolute left-1/2 top-1/2 h-[calc(100%+9px)] w-[calc(100%+9px)] -translate-x-1/2 -translate-y-1/2 rounded-full will-change-transform"
                    style="opacity: 1"
                >
                    <div
                        class="border-button-light relative h-full w-full rounded-full"
                    ></div>
                </div>
                <div
                    class="border-button-light-blur absolute left-1/2 top-1/2 h-[calc(100%+9px)] w-[calc(100%+9px)] -translate-x-1/2 -translate-y-1/2 scale-x-[-1] transform rounded-full will-change-transform"
                    style="opacity: 0"
                >
                    <div
                        class="border-button-light relative h-full w-full rounded-full"
                    ></div>
                </div>

                <!-- Main button -->
                <button class="huly-button">
                    <div class="flare">
                        <div class="flare-inner"></div>
                        <div class="flare-blur"></div>
                    </div>
                    <span class="button-text">Inizia Ora</span>
                </button>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const button = document.querySelector(".huly-button");
                const flare = document.querySelector(".flare");
                const borderLightBlur1 = document.querySelector(
                    ".border-button-light-blur:nth-child(1)"
                );
                const borderLightBlur2 = document.querySelector(
                    ".border-button-light-blur:nth-child(2)"
                );

                if (
                    !button ||
                    !flare ||
                    !borderLightBlur1 ||
                    !borderLightBlur2
                ) {
                    console.error(
                        "Button, flare, or border light elements not found"
                    );
                    return;
                }

                // Initialize flare position to default (right side of button)
                const buttonRect = button.getBoundingClientRect();
                const defaultX = buttonRect.width - 102; // Right side, accounting for 204px flare width
                flare.style.transform = `translateX(${defaultX}px) translateZ(0px)`;

                let currentX = defaultX;
                let targetX = defaultX;
                let animationId = null;
                let isMouseOver = false;

                // Smooth animation function with continuous loop
                function animate() {
                    const diff = targetX - currentX;

                    // Use lerp for smooth movement
                    currentX += diff * 0.25; // Increased for more responsive movement

                    // Apply the smooth position - following huly.io structure
                    flare.style.transform = `translateX(${currentX}px) translateZ(0px)`;

                    // Continue animation while mouse is over button
                    if (isMouseOver) {
                        animationId = requestAnimationFrame(animate);
                    } else {
                        animationId = null;
                    }
                }

                // Mouse move handler for flare effect
                button.addEventListener("mousemove", function (e) {
                    const rect = button.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const buttonWidth = rect.width;
                    const centerX = buttonWidth / 2;

                    // Calculate flare position centered on cursor
                    // The flare is 204px wide, so we center it on the cursor
                    targetX = x - 102; // Center the 204px flare on cursor

                    // Calculate border light opacity based on cursor position
                    const distanceFromCenter = Math.abs(x - centerX);
                    const maxDistance = buttonWidth / 2;
                    const normalizedDistance = distanceFromCenter / maxDistance;

                    // Control border light elements based on cursor position
                    if (x < centerX) {
                        // Mouse is on the left side - show second blur (left), hide first (right)
                        borderLightBlur2.style.opacity = Math.min(
                            1,
                            normalizedDistance * 2
                        );
                        borderLightBlur1.style.opacity = 0;
                    } else {
                        // Mouse is on the right side - show first blur (right), hide second (left)
                        borderLightBlur2.style.opacity = 0;
                        borderLightBlur1.style.opacity = Math.min(
                            1,
                            normalizedDistance * 2
                        );
                    }

                    // Add glow effect at the edges (within 25px from edges)
                    if (x < 25) {
                        button.classList.add("glow-left");
                        button.classList.remove("glow-right");
                    } else if (x > buttonWidth - 25) {
                        button.classList.add("glow-right");
                        button.classList.remove("glow-left");
                    } else {
                        button.classList.remove("glow-left", "glow-right");
                    }
                });

                // Mouse enter handler - start animation loop
                button.addEventListener("mouseenter", function () {
                    isMouseOver = true;

                    // Start animation loop if not already running
                    if (!animationId) {
                        animationId = requestAnimationFrame(animate);
                    }
                });

                // Mouse leave handler - stop animation and reset position
                button.addEventListener("mouseleave", function () {
                    isMouseOver = false;

                    // Cancel any ongoing animation
                    if (animationId) {
                        cancelAnimationFrame(animationId);
                        animationId = null;
                    }

                    // Reset flare to default position (right side)
                    const buttonRect = button.getBoundingClientRect();
                    const defaultX = buttonRect.width - 102;
                    targetX = defaultX;
                    currentX = defaultX;
                    flare.style.transform = `translateX(${defaultX}px) translateZ(0px)`;

                    // Reset border light elements to default
                    borderLightBlur1.style.opacity = "1";
                    borderLightBlur2.style.opacity = "0";

                    // Remove glow effects
                    button.classList.remove("glow-left", "glow-right");
                });

                // Add click handler for demonstration
                button.addEventListener("click", function () {
                    console.log("Try it free button clicked!");
                    // Add your click logic here
                });
            });
        </script>
    </body>
</html>
